<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Travesty__Bi_mappable (travesty.Travesty__Bi_mappable)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">travesty</a> &#x00BB; Travesty__Bi_mappable</nav><h1>Module <code>Travesty__Bi_mappable</code></h1><p>Mapping for containers with two element types.</p><p><code>Bi_mappable</code> implements the Haskell notion of a bifunctor: a container that contains two distinct element types, both of which can be non-monadically, covariantly mapped over.</p><p>Common examples include:</p><ul><li>maps and associative lists, where the two types are keys and values;</li><li>result types, where the two types are success and failure.</li></ul><nav class="toc"><ul><li><a href="#signatures">Signatures</a></li><li><a href="#making-full-bi-mappable-type-modules">Making full bi-mappable type modules</a></li><li><a href="#fix">Fixing types</a><ul><li><a href="#arity-2">Arity-2</a></li><li><a href="#arity-1">Arity-1</a></li></ul></li><li><a href="#converting-bi-mappable-modules-to-mappable-modules">Converting bi-mappable modules to mappable modules</a><ul><li><a href="#arity-1">Arity-1</a></li><li><a href="#arity-0">Arity-0</a></li></ul></li><li><a href="#chaining-containers">Chaining containers</a><ul><li><a href="#chaining-a-mappable-on-the-outside-of-a-bi-mappable">Chaining a mappable on the outside of a bi-mappable</a></li></ul></li></ul></nav></header><section><header><h3 id="signatures"><a href="#signatures" class="anchor"></a>Signatures</h3></header><div><div class="spec include"><div class="doc"><aside><p>The main groups of signatures provided by this module are:</p><ul><li><span class="xref-unresolved" title="unresolved reference to &quot;basic&quot;"><span>Basic<i>n</i></span></span>: minimal definition of bi-mappable modules;</li><li><a href="index.html#s"><span>S<i>n</i></span></a>: full bi-mappable containers, produced by applying functors to the above.</li></ul><p>We also define other signatures, mostly for internal book-keeping. They may be useful elsewhere, however.</p></aside><section><header><h4 id="!basic-basic-signatures"><a href="#!basic-basic-signatures" class="anchor"></a>!basic Basic signatures</h4></header><section><header><h5 id="generic"><a href="#generic" class="anchor"></a>The generic signature</h5><p>As with <span class="xref-unresolved" title="unresolved reference to &quot;Traversable&quot;"><span>Traversable</span></span>, we define the basic signature of bi-mappable structures in an arity-generic way, then specialise it for the various arities.</p></header><dl><dt class="spec module-type" id="module-type-Basic_generic"><a href="#module-type-Basic_generic" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic_generic/index.html">Basic_generic</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic_generic</code> describes bi-mapping on any arity of type.</p></dd></dl></section><section><header><h5 id="sigs"><a href="#sigs" class="anchor"></a>Arity-specific basic signatures</h5><p>The basic signatures are <a href="module-type-Basic0/index.html"><span>Basic0</span></a>, which defines mapping across an arity-0 type <code>t</code> (with a fixed, associated element type <code>elt</code>); <a href="module-type-Basic1_left/index.html"><span>Basic1_left</span></a> and <a href="module-type-Basic1_right/index.html"><span>Basic1_right</span></a>, which fix the right and left element type respectively (leaving the named type floating); and <a href="module-type-Basic2/index.html"><span>Basic2</span></a>, which defines mapping across an arity-2 type <code>('l, 'r) t</code> with left element type <code>'l</code> and right element type <code>'r</code>.</p></header><dl><dt class="spec module-type" id="module-type-Basic0"><a href="#module-type-Basic0" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic0/index.html">Basic0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic0</code> is the basic signature of an arity-0 bi-mappable type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1_left"><a href="#module-type-Basic1_left" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic1_left/index.html">Basic1_left</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic1_left</code> is the basic signature of an arity-1 bi-mappable type with a floating left type and fixed right type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1_right"><a href="#module-type-Basic1_right" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic1_right/index.html">Basic1_right</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic1_right</code> is the signature of an arity-1 bi-mappable type with a floating right type and fixed left type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic2"><a href="#module-type-Basic2" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic2/index.html">Basic2</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic2</code> is the signature of an arity-2 bi-mappable type with floating left and right types.</p></dd></dl></section></section><section><header><h4 id="s"><a href="#s" class="anchor"></a>Signatures for bi-mappable types</h4><p>The signatures below include various functions we can derive from bi-mappable types.</p></header><dl><dt class="spec module-type" id="module-type-Generic"><a href="#module-type-Generic" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Generic/index.html">Generic</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Generic</code> is a generic interface for bi-mappable types, used to build <code>S0</code> (arity-0) and <code>S1</code> (arity-1).</p></dd></dl><dl><dt class="spec module-type" id="module-type-S0"><a href="#module-type-S0" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S0/index.html">S0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S0</code> is the full signature of an arity-0 bi-mappable type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S1_left"><a href="#module-type-S1_left" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S1_left/index.html">S1_left</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S1_left</code> is the full signature of an arity-1 bi-mappable type with a floating left type and fixed right type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S1_right"><a href="#module-type-S1_right" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S1_right/index.html">S1_right</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S1_right</code> is the full signature of an arity-1 bi-mappable type with a floating right type and fixed left type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S2"><a href="#module-type-S2" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S2/index.html">S2</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S2</code> is the full signature of an arity-2 bi-mappable type with floating left and right types.</p></dd></dl></section></div></div></div></section><section><header><h3 id="making-full-bi-mappable-type-modules"><a href="#making-full-bi-mappable-type-modules" class="anchor"></a>Making full bi-mappable type modules</h3><p>These functors build full implementations of bi-mappability given the basic minimal definitions above.</p></header><dl><dt class="spec module" id="module-Make2"><a href="#module-Make2" class="anchor"></a><code><span class="keyword">module</span> <a href="Make2/index.html">Make2</a> : <span class="keyword">functor</span> (<a href="Make2/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic2">Basic2</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S2">S2</a> <span class="keyword">with</span> <span class="keyword">type</span> ('l, 'r) <a href="index.html#module-Make2">Make2</a>.t := (<span class="type-var">'l</span>, <span class="type-var">'r</span>) <a href="Make2/index.html#argument-1-I">I</a>.t</code></dt><dd><p><code>Make2</code> implements <code>S2</code> for an arity-2 bi-mappable container.</p></dd></dl><dl><dt class="spec module" id="module-Make1_left"><a href="#module-Make1_left" class="anchor"></a><code><span class="keyword">module</span> <a href="Make1_left/index.html">Make1_left</a> : <span class="keyword">functor</span> (<a href="Make1_left/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic1_left">Basic1_left</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_left">S1_left</a> <span class="keyword">with</span> <span class="keyword">type</span> 'l <a href="Make1_left/index.html#type-t">t</a> = <span class="type-var">'l</span> <a href="Make1_left/argument-1-I/index.html#type-t">I.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make1_left/index.html#type-right">right</a> = <a href="Make1_left/argument-1-I/index.html#type-right">I.right</a></code></dt><dd><p><code>Make1_left</code> implements <code>S1_left</code> for an arity-1 bi-mappable container with floating left type.</p></dd></dl><dl><dt class="spec module" id="module-Make1_right"><a href="#module-Make1_right" class="anchor"></a><code><span class="keyword">module</span> <a href="Make1_right/index.html">Make1_right</a> : <span class="keyword">functor</span> (<a href="Make1_right/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic1_right">Basic1_right</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_right">S1_right</a> <span class="keyword">with</span> <span class="keyword">type</span> 'r <a href="Make1_right/index.html#type-t">t</a> = <span class="type-var">'r</span> <a href="Make1_right/argument-1-I/index.html#type-t">I.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make1_right/index.html#type-left">left</a> = <a href="Make1_right/argument-1-I/index.html#type-left">I.left</a></code></dt><dd><p><code>Make1_right</code> implements <code>S1_right</code> for an arity-1 bi-mappable container with floating right type.</p></dd></dl><dl><dt class="spec module" id="module-Make0"><a href="#module-Make0" class="anchor"></a><code><span class="keyword">module</span> <a href="Make0/index.html">Make0</a> : <span class="keyword">functor</span> (<a href="Make0/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic0">Basic0</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Make0/index.html#type-t">t</a> = <a href="Make0/argument-1-I/index.html#type-t">I.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make0/index.html#type-left">left</a> = <a href="Make0/argument-1-I/index.html#type-left">I.left</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make0/index.html#type-right">right</a> = <a href="Make0/argument-1-I/index.html#type-right">I.right</a></code></dt><dd><p><code>Make0</code> implements <code>S0</code> for an arity-0 bi-mappable container.</p></dd></dl></section><section><header><h3 id="fix"><a href="#fix" class="anchor"></a>Fixing types</h3><p>We can convert arity-2 modules to arity-1 modules, and arity-1 modules to arity-0 modules, by fixing types. The various <code>FixX_Y</code> functors achieve this.</p></header><section><header><h4 id="arity-2"><a href="#arity-2" class="anchor"></a>Arity-2</h4></header><dl><dt class="spec module" id="module-Fix2_left"><a href="#module-Fix2_left" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix2_left/index.html">Fix2_left</a> : <span class="keyword">functor</span> (<a href="Fix2_left/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic2">Basic2</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix2_left/index.html#argument-2-Left">Left</a> : Base.T) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_right">S1_right</a> <span class="keyword">with</span> <span class="keyword">type</span> 'r <a href="Fix2_left/index.html#type-t">t</a> = (<a href="Fix2_left/index.html#argument-2-Left">Left</a>.t, <span class="type-var">'r</span>) <a href="Fix2_left/index.html#argument-1-I">I</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix2_left/index.html#type-left">left</a> = <a href="Fix2_left/index.html#argument-2-Left">Left</a>.t</code></dt><dd><p><code>Fix2_left (I) (Left)</code> fixes the left type of <code>I</code> to <code>Left</code>, making it an <a href="module-type-S1_right/index.html"><span>S1_right</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Fix2_right"><a href="#module-Fix2_right" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix2_right/index.html">Fix2_right</a> : <span class="keyword">functor</span> (<a href="Fix2_right/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic2">Basic2</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix2_right/index.html#argument-2-Right">Right</a> : Base.T) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_left">S1_left</a> <span class="keyword">with</span> <span class="keyword">type</span> 'l <a href="Fix2_right/index.html#type-t">t</a> = (<span class="type-var">'l</span>, <a href="Fix2_right/index.html#argument-2-Right">Right</a>.t) <a href="Fix2_right/index.html#argument-1-I">I</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix2_right/index.html#type-right">right</a> = <a href="Fix2_right/index.html#argument-2-Right">Right</a>.t</code></dt><dd><p><code>Fix2_right (S) (Left)</code> fixes the right type of <code>S</code> to <code>Right</code>, making it an <a href="module-type-S1_left/index.html"><span>S1_left</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Fix2_both"><a href="#module-Fix2_both" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix2_both/index.html">Fix2_both</a> : <span class="keyword">functor</span> (<a href="Fix2_both/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic2">Basic2</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix2_both/index.html#argument-2-Left">Left</a> : Base.T) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix2_both/index.html#argument-3-Right">Right</a> : Base.T) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Fix2_both/index.html#type-t">t</a> = (<a href="Fix2_both/index.html#argument-2-Left">Left</a>.t, <a href="Fix2_both/index.html#argument-3-Right">Right</a>.t) <a href="Fix2_both/index.html#argument-1-I">I</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix2_both/index.html#type-left">left</a> = <a href="Fix2_both/index.html#argument-2-Left">Left</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix2_both/index.html#type-right">right</a> = <a href="Fix2_both/index.html#argument-3-Right">Right</a>.t</code></dt><dd><p><code>Fix2_both (S) (Left) (Right)</code> fixes the types of <code>S</code> to <code>Left</code> and <code>Right</code>, making it an <a href="module-type-S0/index.html"><span>S0</span></a>.</p></dd></dl></section><section><header><h4 id="arity-1"><a href="#arity-1" class="anchor"></a>Arity-1</h4></header><dl><dt class="spec module" id="module-Fix1_left"><a href="#module-Fix1_left" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix1_left/index.html">Fix1_left</a> : <span class="keyword">functor</span> (<a href="Fix1_left/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic1_left">Basic1_left</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix1_left/index.html#argument-2-Left">Left</a> : Base.T) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Fix1_left/index.html#type-t">t</a> = <a href="Fix1_left/index.html#argument-2-Left">Left</a>.t <a href="Fix1_left/argument-1-I/index.html#type-t">I.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix1_left/index.html#type-left">left</a> = <a href="Fix1_left/index.html#argument-2-Left">Left</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix1_left/index.html#type-right">right</a> = <a href="Fix1_left/argument-1-I/index.html#type-right">I.right</a></code></dt><dd><p><code>Fix1_left (S) (Left)</code> fixes the floating left type of <code>S</code> to <code>Left</code>, making it an <a href="module-type-S0/index.html"><span>S0</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Fix1_right"><a href="#module-Fix1_right" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix1_right/index.html">Fix1_right</a> : <span class="keyword">functor</span> (<a href="Fix1_right/argument-1-I/index.html">I</a> : <a href="index.html#module-type-Basic1_right">Basic1_right</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix1_right/index.html#argument-2-Right">Right</a> : Base.T) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Fix1_right/index.html#type-t">t</a> = <a href="Fix1_right/index.html#argument-2-Right">Right</a>.t <a href="Fix1_right/argument-1-I/index.html#type-t">I.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix1_right/index.html#type-left">left</a> = <a href="Fix1_right/argument-1-I/index.html#type-left">I.left</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix1_right/index.html#type-right">right</a> = <a href="Fix1_right/index.html#argument-2-Right">Right</a>.t</code></dt><dd><p><code>Fix1_right (I) (Right)</code> fixes the floating right type of <code>S</code> to <code>Right</code>, making it an <a href="module-type-S0/index.html"><span>S0</span></a>.</p></dd></dl></section></section><section><header><h3 id="converting-bi-mappable-modules-to-mappable-modules"><a href="#converting-bi-mappable-modules-to-mappable-modules" class="anchor"></a>Converting bi-mappable modules to mappable modules</h3><p>By ignoring values of either the left or the right type, we can derive <span class="xref-unresolved" title="unresolved reference to &quot;Mappable&quot;"><span>mappable</span></span> modules from bi-mappable ones. Since the various <code>S</code> <i>n</i> signatures contain functions for doing this on an ad-hoc basis, the functors below are mainly for use when one needs actual <span class="xref-unresolved" title="unresolved reference to &quot;Mappable&quot;"><span>Mappable</span></span> instances.</p><p>This reflects the 'clowns to the left of me, jokers to the right' (the technical term!) set-up in Haskell; each <code>Map_leftX</code> functor implements a <a href="http://hackage.haskell.org/package/bifunctors/docs/Data-Bifunctor-Clown.html">Clown</a>; each <code>Map_rightX</code> functor implements a a <a href="http://hackage.haskell.org/package/bifunctors/docs/Data-Bifunctor-Joker.html">Joker</a>.</p><p>Since, unlike Haskell, we can't partially apply type constructors in OCaml, there are no arity-2 conversions available, and the arity-1 conversions only work if their direction is the one with a floating type. To rectify this, use <a href="index.html#fix"><span>Fix2_left and friends</span></a>.</p></header><section><header><h4 id="arity-1"><a href="#arity-1" class="anchor"></a>Arity-1</h4></header><dl><dt class="spec module" id="module-Map1_left"><a href="#module-Map1_left" class="anchor"></a><code><span class="keyword">module</span> <a href="Map1_left/index.html">Map1_left</a> : <span class="keyword">functor</span> (<a href="Map1_left/argument-1-S/index.html">S</a> : <a href="index.html#module-type-S1_left">S1_left</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> 'l <a href="Map1_left/index.html#type-t">t</a> = <span class="type-var">'l</span> <a href="Map1_left/argument-1-S/index.html#type-t">S.t</a></code></dt><dd><p>Mapping over the left type of an arity-1 bi-mappable container with a floating left type.</p></dd></dl><dl><dt class="spec module" id="module-Map1_right"><a href="#module-Map1_right" class="anchor"></a><code><span class="keyword">module</span> <a href="Map1_right/index.html">Map1_right</a> : <span class="keyword">functor</span> (<a href="Map1_right/argument-1-S/index.html">S</a> : <a href="index.html#module-type-S1_right">S1_right</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> 'r <a href="Map1_right/index.html#type-t">t</a> = <span class="type-var">'r</span> <a href="Map1_right/argument-1-S/index.html#type-t">S.t</a></code></dt><dd><p>Mapping over the right type of an arity-1 bi-mappable container with a floating right type.</p></dd></dl></section><section><header><h4 id="arity-0"><a href="#arity-0" class="anchor"></a>Arity-0</h4></header><dl><dt class="spec module" id="module-Map0_left"><a href="#module-Map0_left" class="anchor"></a><code><span class="keyword">module</span> <a href="Map0_left/index.html">Map0_left</a> : <span class="keyword">functor</span> (<a href="Map0_left/argument-1-S/index.html">S</a> : <a href="index.html#module-type-S0">S0</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S0">Travesty.Mappable.S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Map0_left/index.html#type-t">t</a> = <a href="Map0_left/argument-1-S/index.html#type-t">S.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Map0_left/index.html#type-elt">elt</a> = <a href="Map0_left/argument-1-S/index.html#type-left">S.left</a></code></dt><dd><p>Mapping over the left type of an arity-0 bi-mappable container.</p></dd></dl><dl><dt class="spec module" id="module-Map0_right"><a href="#module-Map0_right" class="anchor"></a><code><span class="keyword">module</span> <a href="Map0_right/index.html">Map0_right</a> : <span class="keyword">functor</span> (<a href="Map0_right/argument-1-S/index.html">S</a> : <a href="index.html#module-type-S0">S0</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S0">Travesty.Mappable.S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Map0_right/index.html#type-t">t</a> = <a href="Map0_right/argument-1-S/index.html#type-t">S.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Map0_right/index.html#type-elt">elt</a> = <a href="Map0_right/argument-1-S/index.html#type-right">S.right</a></code></dt><dd><p>Mapping over the right type. of an arity-0 bi-mappable container.</p></dd></dl></section></section><section><header><h3 id="chaining-containers"><a href="#chaining-containers" class="anchor"></a>Chaining containers</h3></header><section><header><h4 id="chaining-a-mappable-on-the-outside-of-a-bi-mappable"><a href="#chaining-a-mappable-on-the-outside-of-a-bi-mappable" class="anchor"></a>Chaining a mappable on the outside of a bi-mappable</h4><p>These functors let us compose an inner bi-mappable container with an outer mappable container, producing a bi-map.</p><p>For example, we can make <a href="../Travesty_base_exts/Alist/index.html"><span>associative lists</span></a> bi-mappable by composing a bi-map over <a href="../Travesty_base_exts/Tuple2/index.html"><span>pairs</span></a> <code>(a * b)</code> with a map over <a href="../Travesty_base_exts/List/index.html"><span>lists</span></a>.</p><p>In Haskell terms, this is a <a href="http://hackage.haskell.org/package/bifunctors/docs/Data-Bifunctor-Tannen.html">Tannen</a>.</p></header><dl><dt class="spec module" id="module-Chain_Bi2_Map1"><a href="#module-Chain_Bi2_Map1" class="anchor"></a><code><span class="keyword">module</span> Chain_Bi2_Map1 : <span class="keyword">functor</span> (<a href="Chain_Bi2_Map1/argument-1-Bi/index.html">Bi</a> : <a href="index.html#module-type-S2">S2</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Chain_Bi2_Map1/argument-2-Map/index.html">Map</a> : <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S2">S2</a> <span class="keyword">with</span> <span class="keyword">type</span> ('l, 'r) <a href="index.html#module-Chain_Bi2_Map1">Chain_Bi2_Map1</a>.t = (<span class="type-var">'l</span>, <span class="type-var">'r</span>) <a href="Chain_Bi2_Map1/index.html#argument-1-Bi">Bi</a>.t <a href="Chain_Bi2_Map1/argument-2-Map/index.html#type-t">Map.t</a></code></dt><dd><p><code>Chain_Bi2_Map1 (Bi) (Map)</code> composes a bi-map <code>Bi</code> on an inner arity-2 container over a map <code>Map</code> over an outer arity-1 container.</p></dd></dl><dl><dt class="spec module" id="module-Chain_Bi1_left_Map1"><a href="#module-Chain_Bi1_left_Map1" class="anchor"></a><code><span class="keyword">module</span> <a href="Chain_Bi1_left_Map1/index.html">Chain_Bi1_left_Map1</a> : <span class="keyword">functor</span> (<a href="Chain_Bi1_left_Map1/argument-1-Bi/index.html">Bi</a> : <a href="index.html#module-type-S1_left">S1_left</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Chain_Bi1_left_Map1/argument-2-Map/index.html">Map</a> : <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_left">S1_left</a> <span class="keyword">with</span> <span class="keyword">type</span> 'l <a href="Chain_Bi1_left_Map1/index.html#type-t">t</a> = <span class="type-var">'l</span> <a href="Chain_Bi1_left_Map1/argument-1-Bi/index.html#type-t">Bi.t</a> <a href="Chain_Bi1_left_Map1/argument-2-Map/index.html#type-t">Map.t</a></code></dt><dd><p><code>Chain_Bi1_left_Map1 (Bi) (Map)</code> composes a bi-map <code>Bi</code> on an inner arity-1 container with floating left type over a map <code>Map</code> over an outer arity-1 container.</p></dd></dl><dl><dt class="spec module" id="module-Chain_Bi1_right_Map1"><a href="#module-Chain_Bi1_right_Map1" class="anchor"></a><code><span class="keyword">module</span> <a href="Chain_Bi1_right_Map1/index.html">Chain_Bi1_right_Map1</a> : <span class="keyword">functor</span> (<a href="Chain_Bi1_right_Map1/argument-1-Bi/index.html">Bi</a> : <a href="index.html#module-type-S1_right">S1_right</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Chain_Bi1_right_Map1/argument-2-Map/index.html">Map</a> : <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1_right">S1_right</a> <span class="keyword">with</span> <span class="keyword">type</span> 'r <a href="Chain_Bi1_right_Map1/index.html#type-t">t</a> = <span class="type-var">'r</span> <a href="Chain_Bi1_right_Map1/argument-1-Bi/index.html#type-t">Bi.t</a> <a href="Chain_Bi1_right_Map1/argument-2-Map/index.html#type-t">Map.t</a></code></dt><dd><p><code>Chain_Bi1_right_Map1 (Bi) (Map)</code> composes a bi-map <code>Bi</code> on an inner arity-1 container with floating right type over a map <code>Map</code> over an outer arity-1 container.</p></dd></dl><dl><dt class="spec module" id="module-Chain_Bi0_Map1"><a href="#module-Chain_Bi0_Map1" class="anchor"></a><code><span class="keyword">module</span> <a href="Chain_Bi0_Map1/index.html">Chain_Bi0_Map1</a> : <span class="keyword">functor</span> (<a href="Chain_Bi0_Map1/argument-1-Bi/index.html">Bi</a> : <a href="index.html#module-type-S0">S0</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Chain_Bi0_Map1/argument-2-Map/index.html">Map</a> : <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Chain_Bi0_Map1/index.html#type-t">t</a> = <a href="Chain_Bi0_Map1/argument-1-Bi/index.html#type-t">Bi.t</a> <a href="Chain_Bi0_Map1/argument-2-Map/index.html#type-t">Map.t</a></code></dt><dd><p><code>Chain_Bi0_Map1 (Bi) (Map)</code> composes a bi-map <code>Bi</code> on an inner arity-0 container over a map <code>Map</code> over an outer arity-1 container.</p></dd></dl></section></section></div></body></html>