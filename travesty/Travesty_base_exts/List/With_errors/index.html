<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>With_errors (travesty.Travesty_base_exts.List.With_errors)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">travesty</a> &#x00BB; <a href="../../index.html">Travesty_base_exts</a> &#x00BB; <a href="../index.html">List</a> &#x00BB; With_errors</nav><header class="odoc-preamble"><h1>Module <code><span>List.With_errors</span></code></h1><p>Extended <code>With_errors</code>, adding functions specific to working with lists in an error-prone context.</p></header><nav class="odoc-toc"><ul><li><a href="#utility-functions-for-modifying-lists-with-error-prone-functions">Utility functions for modifying lists with error-prone functions</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../Travesty/Traversable_types/module-type-S1_on_monad/index.html">Travesty.Traversable_types.S1_on_monad</a>
  <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../../../Travesty/Traversable_types/module-type-S1_on_monad/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> list</span></span>
   <span class="keyword">and</span> <span><span class="keyword">module</span> <span class="xref-unresolved">M</span> := <span class="xref-unresolved">Base</span>.Or_error</span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-map_m"><a href="#val-map_m" class="anchor"></a><code><span><span class="keyword">val</span> map_m : 
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Travesty</span>.Monad_exts.App(<span class="xref-unresolved">Base</span>.Or_error).t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> list</span> <span class="xref-unresolved">Travesty</span>.Monad_exts.App(<span class="xref-unresolved">Base</span>.Or_error).t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_map_m"><a href="#val-fold_map_m" class="anchor"></a><code><span><span class="keyword">val</span> fold_map_m : 
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'acc</span> * <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Base</span>.Or_error.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'acc</span> * <span><span class="type-var">'b</span> list</span>)</span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_m"><a href="#val-fold_m" class="anchor"></a><code><span><span class="keyword">val</span> fold_m : 
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="xref-unresolved">Base</span>.Or_error.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'acc</span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_m"><a href="#val-iter_m" class="anchor"></a><code><span><span class="keyword">val</span> iter_m : 
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Base</span>.unit <span class="xref-unresolved">Base</span>.Or_error.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Base</span>.unit <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mapi_m"><a href="#val-mapi_m" class="anchor"></a><code><span><span class="keyword">val</span> mapi_m : 
  <span><span class="label">f</span>:<span>(<span><span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Base</span>.Or_error.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> list</span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sequence_m"><a href="#val-sequence_m" class="anchor"></a><code><span><span class="keyword">val</span> sequence_m : <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.Or_error.t</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div></div></details></div><h4 id="utility-functions-for-modifying-lists-with-error-prone-functions"><a href="#utility-functions-for-modifying-lists-with-error-prone-functions" class="anchor"></a>Utility functions for modifying lists with error-prone functions</h4><div class="odoc-spec"><div class="spec value anchored" id="val-replace_m"><a href="#val-replace_m" class="anchor"></a><code><span><span class="keyword">val</span> replace_m : 
  <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <a href="../../Or_error/index.html#type-t">Or_error.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> list</span> <a href="../../Or_error/index.html#type-t">Or_error.t</a></span></span></code></div><div class="spec-doc"><p><code>replace_m xs at ~f</code> tries to replace the value at index <code>at</code> in <code>xs</code> using the possibly-failing function <code>f</code>. <code>f</code> may return <code>Ok None</code>, in which case the item is removed</p><p>Examples:</p><pre class="language-ocaml"><code>replace [1; 2; 3] 1
  ~f:(fun _ -&gt; Ok None) (* Ok [1; 3] *)
  replace [1; 2; 3] 2
  ~f:(fun x -&gt; Ok (Some (x + 1)))

(* Ok [1; 2; 4] *)</code></pre></div></div></div></body></html>
