<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Travesty__Filter_mappable (travesty.Travesty__Filter_mappable)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">travesty</a> &#x00BB; Travesty__Filter_mappable</nav><h1>Module <code>Travesty__Filter_mappable</code></h1><p>Simultaneous mapping and filtering.</p><p><code>Filter_mappable</code> contains signatures and extensions for types that can be non-monadically mapped over, while simultaneously removing values.</p><nav class="toc"><ul><li><a href="#signatures">Signatures</a></li><li><a href="#making-full-instances-from-basic-ones">Making full instances from basic ones</a></li><li><a href="#deriving-mappable">Deriving Mappable</a></li></ul></nav></header><section><header><h2 id="signatures"><a href="#signatures" class="anchor"></a>Signatures</h2></header><div><div class="spec include"><div class="doc"><p><span class="xref-unresolved" title="unresolved reference to &quot;Filter_mappable_intf&quot;"><span>Filter_mappable_intf</span></span> contains the signatures for <code>Filter_mappable</code>.</p><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">module type of </span><a href="../Travesty/index.html#module-Filter_mappable_intf">Travesty.Filter_mappable_intf</a></code></span></summary><aside></aside><aside><p>Signatures for filter-mapping.</p><p>The <a href="index.html#basics"><span>basic signatures</span></a>, which contain only <span class="xref-unresolved" title="unresolved reference to &quot;filter_map&quot;"><span>filter_map</span></span>, are <a href="module-type-Basic0/index.html"><span>Basic0</span></a> and <a href="module-type-Basic1/index.html"><span>Basic1</span></a>. We also define <a href="index.html#sigs"><span>richer signatures</span></a>, <a href="module-type-S0/index.html"><span>S0</span></a> and <a href="module-type-S1/index.html"><span>S1</span></a>, for which we provide functors in <span class="xref-unresolved" title="unresolved reference to &quot;Filter_mappable&quot;"><span>the main interface</span></span>.</p></aside><section><header><h2 id="basics"><a href="#basics" class="anchor"></a>Basic signatures</h2><p>The basic signatures are <a href="module-type-Basic0/index.html"><span>Basic0</span></a>, which defines filtered mapping across an arity-0 type <code>t</code> (with a fixed, associated element type <code>elt</code>), and <a href="module-type-Basic1/index.html"><span>Basic1</span></a>, which defines filtered mapping across an arity-1 type <code>'a t</code> (with element type <code>'a</code>).</p></header><section><header><h3 id="the-generic-basic-signature"><a href="#the-generic-basic-signature" class="anchor"></a>The generic basic signature</h3><p>As with <span class="xref-unresolved" title="unresolved reference to &quot;Traversable&quot;"><span>Traversable</span></span> and <span class="xref-unresolved" title="unresolved reference to &quot;Mappable&quot;"><span>Mappable</span></span>, we define the basic and full signatures of filter-mappable structures in an arity-generic way, then specialise them for arity-0 and arity-1 types.</p></header><dl><dt class="spec module-type" id="module-type-Generic_basic"><a href="#module-type-Generic_basic" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-Generic_basic/index.html">Generic_basic</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic input shape of filter-mappable structures on either an arity-0 or arity-1 type.</p></dd></dl></section><section><header><h3 id="arity-0-and-arity-1-basic-signatures"><a href="#arity-0-and-arity-1-basic-signatures" class="anchor"></a>Arity-0 and arity-1 basic signatures</h3></header><dl><dt class="spec module-type" id="module-type-Basic0"><a href="#module-type-Basic0" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-Basic0/index.html">Basic0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Basic signature of an arity-0 filter-mappable type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1"><a href="#module-type-Basic1" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-Basic1/index.html">Basic1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Basic signature of an arity-1 mappable type.</p></dd></dl></section></section><section><header><h2 id="sigs"><a href="#sigs" class="anchor"></a>Full signatures</h2><p>The full signatures are <a href="module-type-S0/index.html"><span>S0</span></a> (arity-0) and <a href="module-type-S1/index.html"><span>S1</span></a> (arity-1).</p></header><section><header><h3 id="the-generic-signature"><a href="#the-generic-signature" class="anchor"></a>The generic signature</h3></header><dl><dt class="spec module-type" id="module-type-Generic"><a href="#module-type-Generic" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-Generic/index.html">Generic</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic output shape of filter-mappable structures on either an arity-0 or arity-1 type.</p></dd></dl></section><section><header><h3 id="arity-0-and-arity-1-full-signatures"><a href="#arity-0-and-arity-1-full-signatures" class="anchor"></a>Arity-0 and arity-1 full signatures</h3></header><dl><dt class="spec module-type" id="module-type-S0"><a href="#module-type-S0" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-S0/index.html">S0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Full signature of an arity-0 filter-mappable type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S1"><a href="#module-type-S1" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-S1/index.html">S1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Full signature of an arity-1 mappable type.</p></dd></dl></section></section></details></div></div></div></section><section><header><h2 id="making-full-instances-from-basic-ones"><a href="#making-full-instances-from-basic-ones" class="anchor"></a>Making full instances from basic ones</h2></header><dl><dt class="spec module" id="module-Make0"><a href="#module-Make0" class="anchor"></a><code><span class="keyword">module </span><a href="Make0/index.html">Make0</a> : <span class="keyword">functor</span> (<a href="Make0/argument-1-F/index.html">F</a> : <a href="index.html#module-type-Basic0">Basic0</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S0">S0</a><span class="keyword"> with </span><span class="keyword">type </span><a href="Make0/index.html#type-t">t</a> := <a href="Make0/argument-1-F/index.html#type-t">F.t</a><span class="keyword"> and </span><span class="keyword">type </span><a href="Make0/index.html#type-elt">elt</a> := <a href="Make0/argument-1-F/index.html#type-elt">F.elt</a></code></dt><dd><p><code>Make0</code> makes an <a href="module-type-S0/index.html"><span>S0</span></a> from a <a href="module-type-Basic0/index.html"><span>Basic0</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Make1"><a href="#module-Make1" class="anchor"></a><code><span class="keyword">module </span><a href="Make1/index.html">Make1</a> : <span class="keyword">functor</span> (<a href="Make1/argument-1-F/index.html">F</a> : <a href="index.html#module-type-Basic1">Basic1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1">S1</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="Make1/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="Make1/argument-1-F/index.html#type-t">F.t</a></code></dt><dd><p><code>Make0</code> makes an <a href="module-type-S1/index.html"><span>S1</span></a> from a <a href="module-type-Basic1/index.html"><span>Basic1</span></a>.</p></dd></dl></section><section><header><h2 id="deriving-mappable"><a href="#deriving-mappable" class="anchor"></a>Deriving Mappable</h2></header><dl><dt class="spec module" id="module-To_mappable0"><a href="#module-To_mappable0" class="anchor"></a><code><span class="keyword">module </span><a href="To_mappable0/index.html">To_mappable0</a> : <span class="keyword">functor</span> (<a href="To_mappable0/argument-1-F/index.html">F</a> : <a href="index.html#module-type-Basic0">Basic0</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S0">Travesty.Mappable.S0</a><span class="keyword"> with </span><span class="keyword">type </span><a href="To_mappable0/index.html#type-t">t</a> := <a href="To_mappable0/argument-1-F/index.html#type-t">F.t</a><span class="keyword"> and </span><span class="keyword">type </span><a href="To_mappable0/index.html#type-elt">elt</a> := <a href="To_mappable0/argument-1-F/index.html#type-elt">F.elt</a></code></dt><dd><p><code>To_mappable0</code> lowers a filter-mappable arity-0 type to a mappable one.</p></dd></dl><dl><dt class="spec module" id="module-To_mappable1"><a href="#module-To_mappable1" class="anchor"></a><code><span class="keyword">module </span><a href="To_mappable1/index.html">To_mappable1</a> : <span class="keyword">functor</span> (<a href="To_mappable1/argument-1-F/index.html">F</a> : <a href="index.html#module-type-Basic1">Basic1</a>) <span>&#45;&gt;</span> <a href="../Travesty/Mappable/index.html#module-type-S1">Travesty.Mappable.S1</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="To_mappable1/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="To_mappable1/argument-1-F/index.html#type-t">F.t</a></code></dt><dd><p><code>To_mappable1</code> lowers a filter-mappable arity-1 type to a mappable one.</p></dd></dl></section></div></body></html>