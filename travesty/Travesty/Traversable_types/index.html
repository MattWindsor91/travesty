<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Traversable_types (travesty.Travesty.Traversable_types)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">travesty</a> &#x00BB; <a href="../index.html">Travesty</a> &#x00BB; Traversable_types</nav><h1>Module <code>Travesty.Traversable_types</code></h1><nav class="toc"><ul><li><a href="#inner-traversal-signatures">Inner-traversal signatures</a><ul><li><a href="#omgeneric">The generic signatures</a></li><li><a href="#ombasic">Basic signatures</a></li><li><a href="#oms">Expanded signatures</a></li></ul></li><li><a href="#basic-signatures">Basic signatures</a><ul><li><a href="#basic">For modules without a <code>Container</code> implementation</a></li><li><a href="#bcon">For modules with a <code>Container</code> implementation</a></li></ul></li><li><a href="#s">Signatures for traversable containers</a></li></ul></nav></header><aside><p>The main groups of signatures provided by this module are:</p><ul><li><a href="index.html#basic"><span>Basic<i>n</i></span></a>: minimal definition of new modules without an existing <code>Container</code> instance;</li><li><a href="index.html#bcon"><span>Basic<i>n</i> _container</span></a>: minimal definition of new modules with an existing <code>Container</code> instance;</li><li><a href="index.html#s"><span>S<i>n</i></span></a>: full traversable containers, produced by applying functors to either of the two groups.</li></ul><p>We also define other signatures, mostly for internal book-keeping. They may be useful elsewhere, however.</p></aside><section><header><h4 id="inner-traversal-signatures"><a href="#inner-traversal-signatures" class="anchor"></a>Inner-traversal signatures</h4><p>These signatures form the inner body of the <code>On_monad</code> functor in the main signatures. They all have names ending with <code>_on_monad</code>, and assume the existence of a monad <code>M</code>.</p><p>While they aren't interesting on their own, they do contain (in slightly abstract form) the specific functions needed to build, and provided on building, traversable containers.</p></header><section><header><h5 id="omgeneric"><a href="#omgeneric" class="anchor"></a>The generic signatures</h5><p>As with <a href="../Mappable/index.html"><span>Mappable</span></a>, we define some signatures for traversable structures in an arity-generic way, then specialise them for arity-0 and arity-1 types.</p></header><dl><dt class="spec module-type" id="module-type-Basic_generic_on_monad"><a href="#module-type-Basic_generic_on_monad" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic_generic_on_monad/index.html">Basic_generic_on_monad</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic_generic_on_monad</code> describes monadic traversal on either an arity-0 or arity-1 type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Generic_on_monad"><a href="#module-type-Generic_on_monad" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Generic_on_monad/index.html">Generic_on_monad</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Generic_on_monad</code> extends <code>Generic</code> to contain various derived operators; we use it to derive the signatures of the various <code>On_monad</code> modules.</p></dd></dl></section><section><header><h5 id="ombasic"><a href="#ombasic" class="anchor"></a>Basic signatures</h5></header><dl><dt class="spec module-type" id="module-type-Basic0_on_monad"><a href="#module-type-Basic0_on_monad" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic0_on_monad/index.html">Basic0_on_monad</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic0_on_monad</code> is the inner signature of a monadic traversal over arity-0 types.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1_on_monad"><a href="#module-type-Basic1_on_monad" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic1_on_monad/index.html">Basic1_on_monad</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic1_on_monad</code> is the inner signature of a monadic traversal over arity-1 types.</p></dd></dl></section><section><header><h5 id="oms"><a href="#oms" class="anchor"></a>Expanded signatures</h5></header><dl><dt class="spec module-type" id="module-type-S1_on_monad"><a href="#module-type-S1_on_monad" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S1_on_monad/index.html">S1_on_monad</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S1_on_monad</code> extends <code>Generic_on_monad</code> with functionality that only works on arity-1 containers.</p></dd></dl></section></section><section><header><h4 id="basic-signatures"><a href="#basic-signatures" class="anchor"></a>Basic signatures</h4><p>Any traversable type can be turned into a Core container, using the monadic fold to implement all container functionality. The unified signature of a container with monadic traversals is <a href="module-type-S0/index.html"><span>S0</span></a> (arity 0) or <a href="module-type-S1/index.html"><span>S1</span></a> (arity 1).</p><p>To satisfy these signatures for new types, implement <a href="module-type-Basic0/index.html"><span>Basic0</span></a> or <a href="module-type-Basic1/index.html"><span>Basic1</span></a>, and use the corresponding <code>MakeN</code> functor.</p><p>For types that are _already_ Core containers, or types where custom implementation of the Core signature are desired, implement <a href="module-type-Basic0_container/index.html"><span>Basic0_container</span></a> or <a href="module-type-Basic1_container/index.html"><span>Basic1_container</span></a>, and use the <code>MakeN_container</code> functors.</p></header><section><header><h5 id="basic"><a href="#basic" class="anchor"></a>For modules without a <code>Container</code> implementation</h5></header><dl><dt class="spec module-type" id="module-type-Basic0"><a href="#module-type-Basic0" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic0/index.html">Basic0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic0</code> is the minimal signature that traversable containers of arity 0 must implement to be extensible into <a href="module-type-S0/index.html"><span>S0</span></a>.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1"><a href="#module-type-Basic1" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic1/index.html">Basic1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic1</code> is the minimal signature that traversable containers of arity 1 must implement to be extensible into.</p></dd></dl></section><section><header><h5 id="bcon"><a href="#bcon" class="anchor"></a>For modules with a <code>Container</code> implementation</h5></header><dl><dt class="spec module-type" id="module-type-Basic0_container"><a href="#module-type-Basic0_container" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic0_container/index.html">Basic0_container</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic0_container</code> combines <a href="module-type-Basic0/index.html"><span>Basic0</span></a> and the Base container signature, and is used for extending existing containers into <span class="xref-unresolved" title="unresolved reference to &quot;S0_container&quot;"><span>S0_container</span></span> s.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Basic1_container"><a href="#module-type-Basic1_container" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic1_container/index.html">Basic1_container</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Basic1_container</code> combines <a href="module-type-Basic1/index.html"><span>Basic1</span></a> and the Base container signature, and is used for extending existing containers into <span class="xref-unresolved" title="unresolved reference to &quot;S1_container&quot;"><span>S1_container</span></span> s.</p></dd></dl></section></section><section><header><h4 id="s"><a href="#s" class="anchor"></a>Signatures for traversable containers</h4></header><dl><dt class="spec module-type" id="module-type-Generic"><a href="#module-type-Generic" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Generic/index.html">Generic</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Generic</code> is a generic interface for traversable containers, used to build <code>S0</code> (arity-0) and <code>S1</code> (arity-1).</p></dd></dl><dl><dt class="spec module-type" id="module-type-S0"><a href="#module-type-S0" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S0/index.html">S0</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S0</code> is a generic interface for arity-0 traversable containers.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S1"><a href="#module-type-S1" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S1/index.html">S1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>S1</code> is a generic interface for arity-1 traversable containers. It also includes the extensions from <a href="../Mappable/index.html"><span>Mappable</span></a>.</p></dd></dl></section></div></body></html>