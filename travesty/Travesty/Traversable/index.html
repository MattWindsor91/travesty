<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Traversable (travesty.Travesty.Traversable)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">travesty</a> &#x00BB; <a href="../index.html">Travesty</a> &#x00BB; Traversable</nav><h1>Module <code>Travesty.Traversable</code></h1><nav class="toc"><ul><li><a href="#signatures">Signatures</a></li><li><a href="#making-traversable-containers">Making traversable containers</a><ul><li><a href="#new-containers">New containers</a></li><li><a href="#extending-existing-containers-with-monadic-traversals">Extending existing containers with monadic traversals</a></li></ul></li><li><a href="#combining-and-modifying-traversable-containers">Combining and modifying traversable containers</a><ul><li><a href="#chaining">Chaining</a></li><li><a href="#fixing-the-element-type">Fixing the element type</a></li></ul></li><li><a href="#helper-functions">Helper functions</a></li></ul></nav></header><aside><p>Signatures and functors for containers and data structures that can be mapped across with a monadic side-effect.</p><p>Modules based on this pattern resembles the Haskell Traversable typeclass, but with two differences:</p><ul><li>We currently define traversability in terms of monads, not applicative functors (this might change in the future, but monads are generally more well-understood and well-supported in the OCaml/Core ecosystem);</li><li>as a result, the main 'traverse' function is called <code>map_m</code>.</li></ul></aside><section><header><h3 id="signatures"><a href="#signatures" class="anchor"></a>Signatures</h3><p>For input and output module signatures for this module's functors, see <a href="../Traversable_types/index.html"><span>Traversable_types</span></a>.</p></header></section><section><header><h3 id="making-traversable-containers"><a href="#making-traversable-containers" class="anchor"></a>Making traversable containers</h3><p>Monadic traversal is sufficient to define <code>fold</code>, and, therefore, all of the key functionality for a Base-style container. As such, our signatures and functors subsume those for building containers.</p></header><section><header><h4 id="new-containers"><a href="#new-containers" class="anchor"></a>New containers</h4></header><dl><dt class="spec module" id="module-Make0"><a href="#module-Make0" class="anchor"></a><code><span class="keyword">module</span> <a href="Make0/index.html">Make0</a> : <span class="keyword">functor</span> (<a href="Make0/argument-1-I/index.html">I</a> : <a href="../Traversable_types/index.html#module-type-Basic0">Traversable_types.Basic0</a>) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="Make0/Elt/index.html">Elt</a> = <a href="Make0/argument-1-I/index.html#module-Elt">I.Elt</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make0/index.html#type-t">t</a> = <a href="Make0/argument-1-I/index.html#type-t">I.t</a></code></dt><dd><p><code>Make</code> makes an <a href="../Traversable_types/module-type-S0/index.html"><span>S0</span></a> from a <a href="../Traversable_types/module-type-Basic0/index.html"><span>Basic0</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Make1"><a href="#module-Make1" class="anchor"></a><code><span class="keyword">module</span> <a href="Make1/index.html">Make1</a> : <span class="keyword">functor</span> (<a href="Make1/argument-1-I/index.html">I</a> : <a href="../Traversable_types/index.html#module-type-Basic1">Traversable_types.Basic1</a>) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S1">Traversable_types.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="Make1/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Make1/argument-1-I/index.html#type-t">I.t</a></span></code></dt><dd><p><code>Make</code> makes an <a href="../Traversable_types/module-type-S1/index.html"><span>S1</span></a> from a <a href="../Traversable_types/module-type-Basic1/index.html"><span>Basic1</span></a>.</p></dd></dl></section><section><header><h4 id="extending-existing-containers-with-monadic-traversals"><a href="#extending-existing-containers-with-monadic-traversals" class="anchor"></a>Extending existing containers with monadic traversals</h4></header><dl><dt class="spec module" id="module-Make0_container"><a href="#module-Make0_container" class="anchor"></a><code><span class="keyword">module</span> <a href="Make0_container/index.html">Make0_container</a> : <span class="keyword">functor</span> (<a href="Make0_container/argument-1-I/index.html">I</a> : <a href="../Traversable_types/index.html#module-type-Basic0_container">Traversable_types.Basic0_container</a>) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="Make0_container/Elt/index.html">Elt</a> = <a href="Make0_container/argument-1-I/index.html#module-Elt">I.Elt</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make0_container/index.html#type-t">t</a> = <a href="Make0_container/argument-1-I/index.html#type-t">I.t</a></code></dt><dd><p><code>Make0_container</code> makes an <a href="../Traversable_types/module-type-S0/index.html"><span>S0</span></a> from a <a href="../Traversable_types/module-type-Basic0_container/index.html"><span>Basic0_container</span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Make1_container"><a href="#module-Make1_container" class="anchor"></a><code><span class="keyword">module</span> <a href="Make1_container/index.html">Make1_container</a> : <span class="keyword">functor</span> (<a href="Make1_container/argument-1-I/index.html">I</a> : <a href="../Traversable_types/index.html#module-type-Basic1_container">Traversable_types.Basic1_container</a>) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S1">Traversable_types.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="Make1_container/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Make1_container/argument-1-I/index.html#type-t">I.t</a></span></code></dt><dd><p><code>Make1_container</code> makes an <a href="../Traversable_types/module-type-S1/index.html"><span>S1</span></a> from a <span class="xref-unresolved" title="unresolved reference to &quot;Traversable_types.Basic_container1&quot;"><span>Basic1_container</span></span>.</p></dd></dl></section></section><section><header><h3 id="combining-and-modifying-traversable-containers"><a href="#combining-and-modifying-traversable-containers" class="anchor"></a>Combining and modifying traversable containers</h3></header><section><header><h4 id="chaining"><a href="#chaining" class="anchor"></a>Chaining</h4></header><dl><dt class="spec module" id="module-Chain0"><a href="#module-Chain0" class="anchor"></a><code><span class="keyword">module</span> <a href="Chain0/index.html">Chain0</a> : <span class="keyword">functor</span> (<a href="Chain0/argument-1-Outer/index.html">Outer</a> : <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Chain0/argument-2-Inner/index.html">Inner</a> : <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Chain0/index.html#type-t">t</a> := <a href="Chain0/argument-1-Outer/index.html#module-Elt">Outer.Elt</a>.t) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="Chain0/Elt/index.html">Elt</a> = <a href="Chain0/argument-2-Inner/index.html#module-Elt">Inner.Elt</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Chain0/index.html#type-t">t</a> = <a href="Chain0/argument-1-Outer/index.html#type-t">Outer.t</a></code></dt><dd><p><code>Chain0</code> chains two <a href="../Traversable_types/module-type-S0/index.html"><span>S0</span></a> instances together, traversing each element of the outer instance with the inner instance.</p></dd></dl></section><section><header><h4 id="fixing-the-element-type"><a href="#fixing-the-element-type" class="anchor"></a>Fixing the element type</h4></header><dl><dt class="spec module" id="module-Fix_elt"><a href="#module-Fix_elt" class="anchor"></a><code><span class="keyword">module</span> <a href="Fix_elt/index.html">Fix_elt</a> : <span class="keyword">functor</span> (<a href="Fix_elt/argument-1-I/index.html">I</a> : <a href="../Traversable_types/index.html#module-type-S1">Traversable_types.S1</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Fix_elt/index.html#argument-2-Elt">Elt</a> : Base.Equal.S) <span>&#45;&gt;</span> <a href="../Traversable_types/index.html#module-type-S0">Traversable_types.S0</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="Fix_elt/Elt/index.html">Elt</a> = <a href="Fix_elt/index.html#argument-2-Elt">Elt</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Fix_elt/index.html#type-t">t</a> = <span><a href="Fix_elt/index.html#argument-2-Elt">Elt</a>.t <a href="Fix_elt/argument-1-I/index.html#type-t">I.t</a></span></code></dt><dd><p><code>Fix_elt (I) (Elt)</code> demotes an <a href="../Traversable_types/module-type-S1/index.html"><span>S1</span></a> <code>S</code> to an <a href="../Traversable_types/module-type-S0/index.html"><span>S0</span></a> by fixing the element type to that mentioned in <code>Elt</code>.</p></dd></dl></section></section><section><header><h3 id="helper-functions"><a href="#helper-functions" class="anchor"></a>Helper functions</h3></header><dl><dt class="spec module" id="module-Helpers"><a href="#module-Helpers" class="anchor"></a><code><span class="keyword">module</span> <a href="Helpers/index.html">Helpers</a> : <span class="keyword">functor</span> (<a href="Helpers/index.html#argument-1-M">M</a> : Base.Monad.S) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Utility functions for building traversals.</p></dd></dl></section></div></body></html>