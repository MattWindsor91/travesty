<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Traversable (travesty.Travesty.Traversable)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">travesty</a> &#x00BB; <a href="../index.html">Travesty</a> &#x00BB; Traversable</nav><header class="odoc-preamble"><h1>Module <code><span>Travesty.Traversable</span></code></h1><p>Signatures and functors for containers and data structures that can be mapped across with a monadic side-effect.</p><p>Modules based on this pattern resembles the Haskell Traversable typeclass, but with two differences:</p><ul><li>We currently define traversability in terms of monads, not applicative functors (this might change in the future, but monads are generally more well-understood and well-supported in the OCaml/Core ecosystem);</li><li>as a result, the main 'traverse' function is called <code>map_m</code>.</li></ul></header><nav class="odoc-toc"><ul><li><a href="#signatures">Signatures</a></li><li><a href="#making-traversable-containers">Making traversable containers</a><ul><li><a href="#new-containers">New containers</a></li><li><a href="#extending-existing-containers-with-monadic-traversals">Extending existing containers with monadic traversals</a></li></ul></li><li><a href="#combining-and-modifying-traversable-containers">Combining and modifying traversable containers</a><ul><li><a href="#chaining">Chaining</a></li><li><a href="#fixing-the-element-type">Fixing the element type</a></li></ul></li><li><a href="#helper-functions-and-functors">Helper functions and functors</a></li></ul></nav><div class="odoc-content"><h3 id="signatures"><a href="#signatures" class="anchor"></a>Signatures</h3><p>For input and output module signatures for this module's functors, see <a href="../Traversable_types/index.html"><code>Traversable_types</code></a>.</p><h3 id="making-traversable-containers"><a href="#making-traversable-containers" class="anchor"></a>Making traversable containers</h3><p>Monadic traversal is sufficient to define <code>fold</code>, and, therefore, all of the key functionality for a Base-style container. As such, our signatures and functors subsume those for building containers.</p><h4 id="new-containers"><a href="#new-containers" class="anchor"></a>New containers</h4><div class="odoc-spec"><div class="spec module anchored" id="module-Make0"><a href="#module-Make0" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make0/index.html">Make0</a></span><span>
  (<a href="Make0/argument-1-I/index.html">I</a> : <a href="../Traversable_types/module-type-Basic0/index.html">Traversable_types.Basic0</a>) : 
  <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="../Traversable_types/module-type-S0/Elt/index.html">Elt</a> = <a href="Make0/argument-1-I/Elt/index.html">I.Elt</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> = <a href="Make0/argument-1-I/index.html#type-t">I.t</a></span></span></code></div><div class="spec-doc"><p><code>Make</code> makes an <a href="../Traversable_types/module-type-S0/index.html" title="Traversable_types.S0">S0</a> from a <a href="../Traversable_types/module-type-Basic0/index.html" title="Traversable_types.Basic0">Basic0</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make1"><a href="#module-Make1" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make1/index.html">Make1</a></span><span>
  (<a href="Make1/argument-1-I/index.html">I</a> : <a href="../Traversable_types/module-type-Basic1/index.html">Traversable_types.Basic1</a>) : 
  <a href="../Traversable_types/module-type-S1/index.html">Traversable_types.S1</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../Traversable_types/module-type-S1/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Make1/argument-1-I/index.html#type-t">I.t</a></span></span></span></code></div><div class="spec-doc"><p><code>Make</code> makes an <a href="../Traversable_types/module-type-S1/index.html" title="Traversable_types.S1">S1</a> from a <a href="../Traversable_types/module-type-Basic1/index.html" title="Traversable_types.Basic1">Basic1</a>.</p></div></div><h4 id="extending-existing-containers-with-monadic-traversals"><a href="#extending-existing-containers-with-monadic-traversals" class="anchor"></a>Extending existing containers with monadic traversals</h4><div class="odoc-spec"><div class="spec module anchored" id="module-Make0_container"><a href="#module-Make0_container" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make0_container/index.html">Make0_container</a></span><span>
  (<a href="Make0_container/argument-1-I/index.html">I</a> : <a href="../Traversable_types/module-type-Basic0_container/index.html">Traversable_types.Basic0_container</a>) : 
  <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="../Traversable_types/module-type-S0/Elt/index.html">Elt</a> = <a href="Make0_container/argument-1-I/Elt/index.html">I.Elt</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> = <a href="Make0_container/argument-1-I/index.html#type-t">I.t</a></span></span></code></div><div class="spec-doc"><p><code>Make0_container</code> makes an <a href="../Traversable_types/module-type-S0/index.html" title="Traversable_types.S0">S0</a> from a <a href="../Traversable_types/module-type-Basic0_container/index.html" title="Traversable_types.Basic0_container">Basic0_container</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Make1_container"><a href="#module-Make1_container" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make1_container/index.html">Make1_container</a></span><span>
  (<a href="Make1_container/argument-1-I/index.html">I</a> : <a href="../Traversable_types/module-type-Basic1_container/index.html">Traversable_types.Basic1_container</a>) : 
  <a href="../Traversable_types/module-type-S1/index.html">Traversable_types.S1</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../Traversable_types/module-type-S1/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Make1_container/argument-1-I/index.html#type-t">I.t</a></span></span></span></code></div><div class="spec-doc"><p><code>Make1_container</code> makes an <a href="../Traversable_types/module-type-S1/index.html" title="Traversable_types.S1">S1</a> from a <span class="xref-unresolved" title="Traversable_types.Basic_container1">Basic1_container</span>.</p></div></div><h3 id="combining-and-modifying-traversable-containers"><a href="#combining-and-modifying-traversable-containers" class="anchor"></a>Combining and modifying traversable containers</h3><h4 id="chaining"><a href="#chaining" class="anchor"></a>Chaining</h4><div class="odoc-spec"><div class="spec module anchored" id="module-Chain0"><a href="#module-Chain0" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Chain0/index.html">Chain0</a></span><span>
  (<a href="Chain0/argument-1-Outer/index.html">Outer</a> : <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a>)
  (<a href="Chain0/argument-2-Inner/index.html">Inner</a> : <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> := <span class="xref-unresolved">Outer</span>.Elt.t</span>) : 
  <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="../Traversable_types/module-type-S0/Elt/index.html">Elt</a> = <a href="Chain0/argument-2-Inner/Elt/index.html">Inner.Elt</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> = <a href="Chain0/argument-1-Outer/index.html#type-t">Outer.t</a></span></span></code></div><div class="spec-doc"><p><code>Chain0</code> chains two <a href="../Traversable_types/module-type-S0/index.html" title="Traversable_types.S0">S0</a> instances together, traversing each element of the outer instance with the inner instance.</p></div></div><h4 id="fixing-the-element-type"><a href="#fixing-the-element-type" class="anchor"></a>Fixing the element type</h4><div class="odoc-spec"><div class="spec module anchored" id="module-Fix_elt"><a href="#module-Fix_elt" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fix_elt/index.html">Fix_elt</a></span><span>
  (<a href="Fix_elt/argument-1-I/index.html">I</a> : <a href="../Traversable_types/module-type-S1/index.html">Traversable_types.S1</a>)
  (<a href="Fix_elt/index.html#argument-2-Elt">Elt</a> : <span class="xref-unresolved">Base</span>.Equal.S) : 
  <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="../Traversable_types/module-type-S0/Elt/index.html">Elt</a> = <a href="Fix_elt/argument-2-Elt/index.html">Elt</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> = <span><span class="xref-unresolved">Elt</span>.t <a href="Fix_elt/argument-1-I/index.html#type-t">I.t</a></span></span></span></code></div><div class="spec-doc"><p><code>Fix_elt (I) (Elt)</code> demotes an <a href="../Traversable_types/module-type-S1/index.html" title="Traversable_types.S1">S1</a> <code>S</code> to an <a href="../Traversable_types/module-type-S0/index.html" title="Traversable_types.S0">S0</a> by fixing the element type to that mentioned in <code>Elt</code>.</p></div></div><h3 id="helper-functions-and-functors"><a href="#helper-functions-and-functors" class="anchor"></a>Helper functions and functors</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Const"><a href="#module-Const" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Const/index.html">Const</a></span><span>
  (<a href="Const/index.html#argument-1-T">T</a> : <span class="xref-unresolved">Base</span>.T)
  (<a href="Const/index.html#argument-2-Elt">Elt</a> : <span class="xref-unresolved">Base</span>.Equal.S) : 
  <a href="../Traversable_types/module-type-S0/index.html">Traversable_types.S0</a> <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="../Traversable_types/module-type-S0/Elt/index.html">Elt</a> = <a href="Const/argument-2-Elt/index.html">Elt</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="../Traversable_types/module-type-S0/index.html#type-t">t</a> = <span class="xref-unresolved">T</span>.t</span></span></code></div><div class="spec-doc"><p><code>Const</code> constructs a <a href="../Traversable_types/module-type-S0/index.html" title="Traversable_types.S0">S0</a> over container <code>T</code> and arbitrary element type <code>Elt</code> that, when traversed, makes no calls to the supplied function and returns the container unchanged.</p></div></div></div></body></html>
