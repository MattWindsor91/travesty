<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S_marked_non_monadic (travesty.Travesty_containers.Zipper_types.S_marked_non_monadic)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">travesty</a> &#x00BB; <a href="../../index.html">Travesty_containers</a> &#x00BB; <a href="../index.html">Zipper_types</a> &#x00BB; S_marked_non_monadic</nav><header class="odoc-preamble"><h1>Module type <code><span>Zipper_types.S_marked_non_monadic</span></code></h1><p><code>S_marked_non_monadic</code> extends <code>S_non_monadic</code> to add functions for manipulating marks.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../module-type-S_non_monadic/index.html">S_non_monadic</a></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>The opaque type of zippers.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Sexplib0</span>.Sexpable.S1 <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">t</span></span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-t_of_sexp"><a href="#val-t_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> t_of_sexp : <span><span>(<span><span class="xref-unresolved">Sexplib0__</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Sexplib0__</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0__</span>.Sexp.t)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0__</span>.Sexp.t</span></code></div></div></details></div><h4 id="construction-and-destruction"><a href="#construction-and-destruction" class="anchor"></a>Construction and destruction</h4><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><span class="label">left</span>:<span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">right</span>:<span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>make ~left ~right</code> constructs a zipper with left list <code>left</code> and right list <code>right</code>.</p><p>These lists go directly into the zipper itself, so <code>left</code>, if non-empty, should be in the reverse order to how it should appear when fully rewound.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_list xs</code> converts a list <code>xs</code> to a fully-rewound zipper.</p><p>It is equivalent to <code>make</code> with an empty <code>left</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span></span></code></div><div class="spec-doc"><p><code>to_list zipper</code> returns the list of _all_ items in the zipper, including those in the left list.</p><p>All items appear in the same order that they would take in the right list if the zipper was fully rewound. In other words, the left list appears first (in reverse order), followed by the right list (in forwards order).</p><p>To get only the items in the right list, use <code>right_list</code>; to get only the items in the left list (reversed), use <code>left_list</code>.</p></div></div><h4 id="querying-the-left-and-right-lists"><a href="#querying-the-left-and-right-lists" class="anchor"></a>Querying the left and right lists</h4><div class="odoc-spec"><div class="spec value anchored" id="val-left_list"><a href="#val-left_list" class="anchor"></a><code><span><span class="keyword">val</span> left_list : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span></span></code></div><div class="spec-doc"><p><code>left_list zipper</code> gets the raw left list of the zipper: all of the already-processed items in reverse order.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-right_list"><a href="#val-right_list" class="anchor"></a><code><span><span class="keyword">val</span> right_list : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span></span></code></div><div class="spec-doc"><p><code>right_list zipper</code> gets the right list of the zipper: all of the not-yet-processed items in forwards order.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_two_lists"><a href="#val-to_two_lists" class="anchor"></a><code><span><span class="keyword">val</span> to_two_lists : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span> * <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.list</span></span></code></div><div class="spec-doc"><p><code>to_two_lists zipper</code> is <code>(left_list zipper, right_list zipper)</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-left_length"><a href="#val-left_length" class="anchor"></a><code><span><span class="keyword">val</span> left_length : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.int</span></code></div><div class="spec-doc"><p><code>left_length zipper</code> gets the length of <code>zipper</code>'s left list.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-right_length"><a href="#val-right_length" class="anchor"></a><code><span><span class="keyword">val</span> right_length : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.int</span></code></div><div class="spec-doc"><p><code>right_length zipper</code> gets the length of <code>zipper</code>'s right list.</p></div></div><h4 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h4><div class="odoc-spec"><div class="spec value anchored" id="val-is_at_start"><a href="#val-is_at_start" class="anchor"></a><code><span><span class="keyword">val</span> is_at_start : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.bool</span></code></div><div class="spec-doc"><p><code>is_at_start zipper</code> tests whether <code>zipper</code>'s left list is empty.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_at_end"><a href="#val-is_at_end" class="anchor"></a><code><span><span class="keyword">val</span> is_at_end : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base</span>.bool</span></code></div><div class="spec-doc"><p><code>is_at_end zipper</code> tests whether <code>zipper</code>'s right list is empty.</p></div></div><h4 id="pushing"><a href="#pushing" class="anchor"></a>Pushing</h4><div class="odoc-spec"><div class="spec value anchored" id="val-push"><a href="#val-push" class="anchor"></a><code><span><span class="keyword">val</span> push : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">value</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>push zipper ~value</code> pushes <code>value</code> into <code>zipper</code> at the cursor. The current cursor becomes the second item in the right list, and so on.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push_left"><a href="#val-push_left" class="anchor"></a><code><span><span class="keyword">val</span> push_left : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">value</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>push_left zipper ~value</code> pushes <code>value</code> into <code>zipper</code> just to the left of the cursor.</p></div></div><h4 id="peeking-and-popping"><a href="#peeking-and-popping" class="anchor"></a>Peeking and popping</h4><div class="odoc-spec"><div class="spec value anchored" id="val-peek_opt"><a href="#val-peek_opt" class="anchor"></a><code><span><span class="keyword">val</span> peek_opt : <span><span class="optlabel">?steps</span>:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.option</span></span></code></div><div class="spec-doc"><p><code>peek_opt ?steps zipper</code> retrieves the cursor value without popping it from the zipper. If the cursor is empty, <code>None</code> is returned.</p><p>If <code>steps</code> is given, it shifts the effective cursor <code>steps</code> places forwards.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pop"><a href="#val-pop" class="anchor"></a><code><span><span class="keyword">val</span> pop : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div><div class="spec-doc"><p><code>pop zipper</code> returns an error if <code>zipper</code> has no cursor, or <code>Ok (a, zipper')</code> where <code>a</code> is <code>zipper</code>'s cursor and <code>zipper'</code> is the new zipper formed by removing <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pop_opt"><a href="#val-pop_opt" class="anchor"></a><code><span><span class="keyword">val</span> pop_opt : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-t">t</a></span>)</span> <span class="xref-unresolved">Base</span>.option</span></span></code></div><div class="spec-doc"><p><code>pop_opt zipper</code> behaves as <a href="#val-pop"><code>pop</code></a>, but returns <code>None</code> if <code>zipper</code> has no cursor and <code>Some (a, zipper')</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_head"><a href="#val-map_head" class="anchor"></a><code><span><span class="keyword">val</span> map_head : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Base</span>.option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map_head zipper ~f</code> maps <code>f</code> across the cursor of <code>zipper</code>, if it exists, and replaces the cursor with the result (or drops it if <code>f</code> returns <code>None</code>).</p></div></div><h4 id="movement"><a href="#movement" class="anchor"></a>Movement</h4><div class="odoc-spec"><div class="spec value anchored" id="val-step"><a href="#val-step" class="anchor"></a><code><span><span class="keyword">val</span> step : <span><span class="optlabel">?steps</span>:<span class="xref-unresolved">Base</span>.int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div><div class="spec-doc"><p><code>step ?steps zipper ~on_empty</code> takes one or more steps across <code>zipper</code>. The number of steps defaults to 1 (forwards), but can be given by <code>steps</code>; negative numbers step backwards through the zipper. If the number of steps exceeds the bounds of the zipper, an error is returned.</p></div></div></details></div><div class="odoc-spec"><div class="spec type anchored" id="type-mark"><a href="#type-mark" class="anchor"></a><code><span><span class="keyword">type</span> mark</span></code></div><div class="spec-doc"><p>The type of marks.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mark"><a href="#val-mark" class="anchor"></a><code><span><span class="keyword">val</span> mark : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">mark</span>:<a href="#type-mark">mark</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div><div class="spec-doc"><p><code>mark zipper ~mark</code> marks the cursor with <code>mark</code>, and returns the marked-up zipper.</p><p>If the cursor is empty, an error is returned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-recall"><a href="#val-recall" class="anchor"></a><code><span><span class="keyword">val</span> recall : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">mark</span>:<a href="#type-mark">mark</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div><div class="spec-doc"><p><code>recall zipper ~mark</code> rewinds <code>zipper</code> until the cursor is on an element previously marked with <code>mark</code>.</p><p>If <code>recall</code> runs out of left-list to rewind before finding <code>mark</code>, an error is returned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_until"><a href="#val-fold_until" class="anchor"></a><code><span><span class="keyword">val</span> fold_until : 
  <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">f</span>:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-mark">mark</a>, <span class="type-var">'a</span>, <span class="type-var">'acc</span>, <span class="type-var">'final</span>)</span> <a href="../index.html#type-fold_outcome">fold_outcome</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">init</span>:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">finish</span>:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'final</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'final</span></span></code></div><div class="spec-doc"><p><code>fold_until zipper ~f ~init ~finish</code> behaves conceptually like <code>List.fold_until</code>, but folds <code>f</code> through the remaining elements of a zipper.</p><p><code>f</code> receives the current accumulator, current cursor, and zipper with cursor popped at each stage. It can't directly modify the zipper mid-fold, but can influence the value of the final zipper provided to the <code>finish</code> continuation by using the various legs of <a href="../index.html#type-fold_outcome"><code>fold_outcome</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-delete_to_mark"><a href="#val-delete_to_mark" class="anchor"></a><code><span><span class="keyword">val</span> delete_to_mark : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">mark</span>:<a href="#type-mark">mark</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="xref-unresolved">Base</span>.Or_error.t</span></span></code></div><div class="spec-doc"><p><code>delete_to_mark zipper ~mark</code> deletes every item in the left-list up to, and including, the element previously marked with <code>mark</code>.</p><p>If <code>delete_to_mark</code> runs out of left-list to rewind before finding <code>mark</code>, an error is returned.</p></div></div></div></body></html>
