<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (travesty.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ travesty</nav><nav class="toc"><ul><li><a href="#top">Travesty</a><ul><li><a href="#traversal-interfaces">Traversal interfaces</a></li><li><a href="#state-monads">State monads</a></li><li><a href="#extensions">Extensions</a><ul><li><a href="#signature-expansions">Signature expansions</a></li><li><a href="#implementation-expansions">Implementation expansions</a></li></ul></li><li><a href="#custom-containers">Custom containers</a></li><li><a href="#related-projects">Related projects</a><ul><li><a href="#other-similar-libraries">Other similar libraries</a></li><li><a href="#projects-depending-on-travesty">Projects depending on Travesty</a></li></ul></li></ul></li></ul></nav></header><h3 id="top"><a href="#top" class="anchor"></a>Travesty</h3><p><i>Travesty</i> is a library for defining containers with monadic and otherwise 'exotic' traversals, inspired by Haskell's <i>Traversable</i> and related typeclasses. It sits on top of Jane Street's Core library ecosystem.</p><p>As well as monadic traversals, Travesty includes various other extensions on top of Core. These focus on making a more 'purely functional', Haskell-esque style of programming easier, though with a focus on pragmatism over mathematical purity.</p><h4 id="traversal-interfaces"><a href="#traversal-interfaces" class="anchor"></a>Traversal interfaces</h4><p>Travesty contains module signatures, functors, and extensions for dealing with various kinds of traversability:</p><ul><li><a href="Travesty/Mappable/index.html"><span>Mappable</span></a>: mapping (in Haskell, <a href="http://hackage.haskell.org/package/base/docs/Data-Functor.html">functors</a>);</li><li><a href="Travesty/Traversable/index.html"><span>Traversable</span></a>: monadic traversal (in Haskell, <a href="http://hackage.haskell.org/package/base/docs/Data-Traversable.html">traversable functors</a>);</li><li><a href="Travesty/Bi_mappable/index.html"><span>Bi_mappable</span></a>: mapping on two types over the same container (in Haskell, <a href="http://hackage.haskell.org/package/base/docs/Data-Bifunctor.html">bifunctors</a>);</li><li><a href="Travesty/Filter_mappable/index.html"><span>Filter_mappable</span></a>: mapping that can discard elements (similar to the <a href="https://hackage.haskell.org/package/filtrable-0.1.1.0">filtrable</a> Haskell library).</li></ul><p>Haskell's <a href="http://hackage.haskell.org/package/base/docs/Data-Foldable.html">foldable functors</a> already exist in Base as <a href="https://ocaml.janestreet.com/ocaml-core/latest/doc/base/Base/Container/index.html">Container</a>.</p><h4 id="state-monads"><a href="#state-monads" class="anchor"></a>State monads</h4><p><code>Travesty</code> also contains implementations of state monads (<a href="Travesty/State/index.html"><span>State</span></a>) and transformers (<a href="Travesty/State_transform/index.html"><span>State_transform</span></a>). We use these to implement fold-mapping and folding on top of <a href="Travesty/Traversable/index.html"><span>Traversable</span></a>, but expose them for general consumption.</p><h4 id="extensions"><a href="#extensions" class="anchor"></a>Extensions</h4><p>Travesty also contains extensions to various module signatures, as well as to Base and Core_kernel container and monad modules. We keep the latter in sub-libraries of <code>Travesty</code>.</p><h5 id="signature-expansions"><a href="#signature-expansions" class="anchor"></a>Signature expansions</h5><p>These are in the <code>Travesty</code> library, and always have the suffix <code>exts</code>. Some Travesty signatures pull them in automatically.</p><ul><li>Containers (<a href="Travesty/Container_exts/index.html"><span>Container_exts</span></a>)</li><li>Monads (<a href="Travesty/Monad_exts/index.html"><span>Monad_exts</span></a>)</li></ul><h5 id="implementation-expansions"><a href="#implementation-expansions" class="anchor"></a>Implementation expansions</h5><p>These are in the <a href="Travesty_base_exts/index.html"><span>Travesty_base_exts</span></a> library (expanding the <code>Base</code> versions) and the <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts&quot;"><span>Travesty_core_kernel_exts</span></span> library (expanding the <code>Core_kernel</code> versions). Each usually has the same name as the module it extends (except `Alist`), but <i>doesn't</i> re-export that module. The intended mode of use is:</p><pre><code class="ml">(* Base *)
open Base
module Tx = Travesty_base_exts

(* Core_kernel *) 
open Core_kernel
module Tx = Travesty_core_kernel_exts

let example (foo : ('k, 'v) List.Assoc.t) =
  Tx.Alist.bi_map ~left:foo ~right:bar foo</code></pre><ul><li><code>Tuple2</code>: pairs/2-tuples (<a href="Travesty_base_exts/Tuple2/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.Tuple2&quot;"><span>Core_kernel</span></span>)</li><li><code>Alist</code>: associative lists (<a href="Travesty_base_exts/Alist/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.Alist&quot;"><span>Core_kernel</span></span>)</li><li><code>Or_error</code>: error monad (<a href="Travesty_base_exts/Or_error/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.Or_error&quot;"><span>Core_kernel</span></span>)</li><li><code>Fn</code>: function combinators (<a href="Travesty_base_exts/Fn/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.Fn&quot;"><span>Core_kernel</span></span>)</li><li><code>List</code>: lists (<a href="Travesty_base_exts/List/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.List&quot;"><span>Core_kernel</span></span>)</li><li><code>Option</code>: options (<a href="Travesty_base_exts/Option/index.html"><span>Base</span></a>, <span class="xref-unresolved" title="unresolved reference to &quot;Travesty_core_kernel_exts.Option&quot;"><span>Core_kernel</span></span>)</li></ul><h4 id="custom-containers"><a href="#custom-containers" class="anchor"></a>Custom containers</h4><p>As well as expanding various <code>Core</code> and <code>Core_kernel</code> containers, <code>Travesty</code> features some of its own. These have various traversal and mapping features built in, but aren't necessarily optimised for heavy-duty use.</p><p>Each is in the <a href="Travesty_containers/index.html"><span>Travesty_containers</span></a> subpackage (in Dune, use <code>travesty.containers</code>.)</p><ul><li><a href="Travesty_containers/Singleton/index.html"><span>Singleton</span></a>: treating a single data item like a mappable, traversable container</li><li><a href="Travesty_containers/Zipper/index.html"><span>Zipper</span></a>: list zippers</li></ul><h4 id="related-projects"><a href="#related-projects" class="anchor"></a>Related projects</h4><h5 id="other-similar-libraries"><a href="#other-similar-libraries" class="anchor"></a>Other similar libraries</h5><ul><li>The <a href="https://binaryanalysisplatform.github.io/bap/api/v1.6.0/Monads.html">BAP monads library</a> also contains implementations of monadic traversals, as well as several of <code>Travesty</code>'s other extensions.</li></ul><h5 id="projects-depending-on-travesty"><a href="#projects-depending-on-travesty" class="anchor"></a>Projects depending on Travesty</h5><ul><li><a href="https://github.com/MattWindsor91/act">act</a>, a toolbox for automatic compiler testing.</li></ul></div></body></html>